<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evara - My Accounts</title>
    
    <!-- Meta Description -->
    <meta name="description" content="Discover luxury at Evara! Explore exquisite home decor & lifestyle essentials. Elevate your space with timeless elegance. Shop now!">
    
    <!-- Keywords -->
    <meta name="keywords" content="Luxury Home Decor, Premium Lifestyle Essentials, Elegant Furnishings, Stylish Homeware, Exclusive Interior Accessories, Chic Decor Accents, Unique Home Furnishings">

    <!-- Robots Meta Tag -->
    <meta name="robots" content="index, follow">
    
    <!-- OG (Open Graph) Tags -->
    <meta property="og:title" content="Evara - Unleashing Elegance in Every Purchase | Premium Home Decor & Lifestyle Essentials">
    <meta property="og:description" content="Discover luxury at Evara! Explore exquisite home decor & lifestyle essentials. Elevate your space with timeless elegance. Shop now!">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:title" content="Evara - Unleashing Elegance in Every Purchase | Premium Home Decor & Lifestyle Essentials">
    <meta name="twitter:description" content="Discover luxury at Evara! Explore exquisite home decor & lifestyle essentials. Elevate your space with timeless elegance. Shop now!">
    <!-- =================================================================
                             Link Custom CSS File
    ================================================================== -->
    <link rel="stylesheet" href="/style.css">

    <!-- =================================================================
                             Link Favicon
    ================================================================== -->
    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon">

    <!-- =================================================================
                             SWIPER JS CDN
    ================================================================== -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- =================================================================
                             Remix Icon CDN
    ================================================================== -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.7.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>

    <!-- ================================================ HEADER ================================================ -->
 
    <%- include('includes/header') %>

    <!-- ================================================ MAIN ================================================ -->
    <main class="main">
        <!-- ================================================ BREADCRUMB ================================================ -->
        <section class="breadcrumb">
            <ul class="breadcrumb-list flexitem container">
                <li><a href="index.html" class="breadcrumb-link">Home</a></li>
                <li><span class="breadcrumb-link">></span></li>
                <li><span class="breadcrumb-link">My Account</span></li>
            </ul>
        </section>

        <!-- ================================================ COMPARE ================================================ -->
        <section class="accounts section-lg">
            <div class="accounts-container container grid">
                <div class="account-tabs">
                    <p class="account-tab active-tab" data-target="#dashboard">
                        <i class="ri-dashboard-line"></i> Dashboard
                    </p>
                    <p class="account-tab" data-target="#orders">
                        <i class="ri-shopping-bag-line"></i> Orders
                    </p>

                    <p class="account-tab" data-target="#address">
                        <i class="ri-map-pin-line"></i> My Address
                    </p>
                    <p class="account-tab" data-target="#change-password">
                        <i class="ri-lock-2-line"></i> Change Password
                    </p>
                    <p class="account-tab">
                        <i class="ri-logout-box-line"></i> Logout
                    </p>
                </div>

                <div class="tabs-content">
                    <div class="tab-content active-tab" content id="dashboard">
                        <h3 class="tab-header">Hello Rosie</h3>
                        <div class="tab-body">
                            <p class="tab-description">
                                From your account dashboard, you can easily check & veiw your recent orders, manage your shipping and billing addresses and edit your password and account details.
                            </p>
                        </div>
                    </div>

                    <div class="tab-content" content id="orders">
                        <h3 class="tab-header">Your Orders</h3>
                        <div class="tab-body">
                            <table class="placed-order-table">
                                <tr>
                                    <th>Orders</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Total</th>
                                    <th>Actions</th>
                                </tr>
                                <% orders.forEach(order => { %>
                                <tr>
                                    <td><%= order.orderId %></td>
                                    <td><%= order && order.createdAt ? order.createdAt.toDateString() : ''  %></td>
                                    <td><%= order.status %></td>
                                    <td><%= order.totalPrice %></td>
                                    <td><a href="/order/<%= order._id %>" class="view-order"></a>Cancel</td>
                                </tr>
                            <% }) %>
                            </table>
                        </div>
                    </div>

                   

                    <div class="tab-content" content id="address">
                        <form action="/address" id="addressForm" class="form grid" method="post">
                            <input type="text" name="name" placeholder="Name" class="form-input">
                            <input type="text" name="address" placeholder="Address" class="form-input">
                            <input type="text" name="city" placeholder="City" class="form-input">   
                            <input type="text" name="country" placeholder="Country" class="form-input">
                            <input type="text" name="postCode" placeholder="Post Code" class="form-input">
                            <input type="text" name="phone" placeholder="Phone No." class="form-input">
                            <input type="text" name="email" placeholder="Email" class="form-input">
                            <input type="submit" class="form-input">
                        </form>
                    </div>

                    <div class="tab-content" content id="change-password">  
                        <h3 class="tab-header">Change Password</h3>

                        <div class="tab-body">
                            <form action="" class="form grid">
                                <input type="text" placeholder="Current Password" class="form-input">
                                <input type="text" placeholder="New Password" class="form-input">
                                <input type="text" placeholder="Confirm Password" class="form-input">

                                <div class="form-btn">
                                    <button class="btn btn-md">Save</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </section>

    </main>

    <!-- ================================================ FOOTER ================================================ -->
   
    <%- include('includes/footer') %>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- =================================================================
                             Link Custom JS File
    ================================================================== -->
    <script src="assets/js/script.js"></script>
    <script>
        // Function to handle tab switching
// Function to handle tab switching
const handleTabClick = (event) => {
    // Get the target tab content ID from the data-target attribute
    const targetId = event.target.getAttribute('data-target');
    
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(tabContent => {
        tabContent.classList.remove('active-tab');
    });

    // Show the target tab content
    document.querySelector(targetId).classList.add('active-tab');

    // Remove 'active-tab' class from all tab buttons
    document.querySelectorAll('.account-tab').forEach(tabButton => {
        tabButton.classList.remove('active-tab');
    });

    // Add 'active-tab' class to the clicked tab button
    event.target.classList.add('active-tab');
};

// Add event listeners to all tab buttons
document.querySelectorAll('.account-tab').forEach(tabButton => {
    tabButton.addEventListener('click', handleTabClick);
});

// Function to handle address form submission
// const handleAddressSubmit = async () => {
//     try {
//         const formData = new FormData(document.getElementById('addressForm'));
//         console.log(formData,'nothis IS there')

//         const response = await fetch(`/address`, {
//             method: 'POST',
//             body: formData
//         });

//         if (response.ok) {
//             console.log('Address added successfully');
//             // Reload the page after successful addition of address
//             window.location.reload();
//         } else {
//             console.error('Error in adding address to the server');
//             // Handle error appropriately (e.g., show error message to the user)
//         }
//     } catch (error) {
//         console.error(error);
//         // Handle error appropriately (e.g., show error message to the user)
//     }
// };

// // Event listener for form submission
//     document.getElementById('submitButton').addEventListener('click', handleAddressSubmit);



    </script>

</body>

</html>